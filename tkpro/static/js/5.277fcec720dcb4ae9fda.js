webpackJsonp([5],{OJPO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("TIfe"),i=a("jA3A"),n={name:"information-list",components:{},data:function(){return{id:0,loading:!1,fileList:[],username:"",headIcon:"",intro:"",myHeaders:{Authorization:Object(s.a)()},goodAt:[{name:"美妆",isSelected:!1},{name:"生活",isSelected:!1},{name:"美食",isSelected:!1},{name:"娱乐",isSelected:!1},{name:"户外",isSelected:!1},{name:"宠物",isSelected:!1},{name:"直播",isSelected:!1},{name:"卖衣服",isSelected:!1}]}},created:function(){this.loadData()},methods:{loadData:function(){var e=this;this.loading=!0,Object(i.k)("stormfa").then(function(t){if(200!==t.code)return e.$message.error(t.message);e.id=t.data.id,e.username=t.data.username,e.intro=t.data.intro;var a=t.data.skilledDomain.split(",");e.goodAt.map(function(e){return e.isSelected=!1,a.includes(e.name)&&(e.isSelected=!0),e}),e.headIcon=t.data.headIcon,e.loading=!1}).catch(function(t){console.log(t),e.loading=!1})},changeGoodAt:function(e){this.goodAt.map(function(t,a){return a===e&&(t.isSelected=!t.isSelected),t})},handleSuccess:function(e,t){"200"==e.code?(this.headIcon=e.data[0].url,this.$message.success(e.message||"文件导入成功，稍后查询处理结果")):this.$message.error(e.message||"文件导入失败，稍后重试")},updateData:function(){var e=this;if(""===this.headIcon)return this.$message({type:"info",message:"未选择头像"});if(""===this.username)return this.$message({type:"info",message:"未输入用户昵称"});if(""===this.intro)return this.$message({type:"info",message:"未输入自我介绍"});if(0===this.goodAt.length)return this.$message({type:"info",message:"未选择擅长领域"});var t=[];this.goodAt.forEach(function(e){e.isSelected&&t.push(e.name)});var a={headIcon:this.headIcon,intro:this.intro,nickname:this.username,skilledDomain:t.join(",")};Object(i.v)("stormfa",a).then(function(t){200===t.code&&(e.$message.success("操作成功"),e.loadData())}).catch(function(e){console.log(e)})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"information-list"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"title"},[e._v("头像：")]),e._v(" "),e.headIcon?a("img",{attrs:{src:e.headIcon}}):e._e(),e._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{"show-file-list":!1,action:"http://159.75.125.80:8899/minio/img/upload",headers:e.myHeaders,"on-success":e.handleSuccess,limit:1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),e._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"title"},[e._v("用户昵称：")]),e._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入用户昵称"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"title"},[e._v("自我介绍：")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.intro,expression:"intro"}],attrs:{name:"",id:"",cols:"50",rows:"5"},domProps:{value:e.intro},on:{input:function(t){t.target.composing||(e.intro=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"panel"},[a("div",{staticClass:"title"},[e._v("擅长领域：")]),e._v(" "),a("div",{staticClass:"type"},e._l(e.goodAt,function(t,s){return a("div",{key:s,staticClass:"cell",class:{"cell-selected":t.isSelected},on:{click:function(t){return e.changeGoodAt(s)}}},[e._v(e._s(t.name))])}),0)]),e._v(" "),a("div",{staticClass:"button",on:{click:e.updateData}},[e._v("确认并保存")])])},staticRenderFns:[]};var c=a("VU/8")(n,o,!1,function(e){a("wyWA")},"data-v-3551305a",null);t.default=c.exports},wyWA:function(e,t){}});
//# sourceMappingURL=5.277fcec720dcb4ae9fda.js.map